Claude Rules :look👀

# 週次メンテナンス チェックリスト 📋

> **所要時間**: 約2時間  
> **頻度**: 毎週1回（推奨: 日曜日の午前中）  
> **目的**: システムの安定性とパフォーマンスの維持

---

## 📊 **パフォーマンス指標レビュー（30分）**

### ✅ Firebase Analytics確認

```
🔗 アクセス: https://console.firebase.google.com/project/YOUR_PROJECT_ID/analytics

📈 記録する指標:
□ アクティブユーザー数: _____ 人
□ 新規ユーザー数: _____ 人  
□ セッション継続時間: _____ 分
□ ページビュー数: _____ 回
□ 離脱率: _____%

🎯 目標値:
✅ 新規ユーザー増加率: 5%以上/週
✅ セッション継続時間: 3分以上
✅ 離脱率: 50%以下
```

### ✅ コスト確認

```
🔗 アクセス: Firebase Console > 使用量とお支払い

💰 確認項目:
□ 今月の使用料金: $_____ 
□ 予想月額料金: $_____
□ 前週比増減: ±_____%

⚠️ 注意点:
- 予想月額が予算の120%を超えた場合は要調査
- 急激な増加（50%以上）があった場合は原因を特定
```

### ✅ エラー率確認

```
🔗 アクセス: Firebase Console > Functions > 使用状況

📊 確認項目:
□ 総実行回数: _____ 回
□ エラー数: _____ 回
□ エラー率: _____%

🎯 目標値:
✅ エラー率: 1%以下（正常）
⚠️ エラー率: 1-5%（要監視）
❌ エラー率: 5%以上（要対応）
```

---

## 🧪 **機能テスト（45分）**

### ✅ 基本機能テスト（15分）

```
🔄 ユーザージャーニーテスト:

1. 新規ユーザー登録
□ サインアップ画面が表示される
□ メール認証が正常に動作
□ 初回ログイン成功

2. Instagram連携
□ Instagram認証画面が表示
□ 認証成功後、アカウント情報取得
□ アカウント一覧に表示される

3. 投稿作成
□ 投稿作成画面が開く
□ 画像アップロードが成功
□ 投稿内容が保存される

4. スケジュール設定
□ 日時選択が正常に動作
□ スケジュール保存成功
□ 一覧画面に表示される
```

### ✅ 決済機能テスト（15分）

```
💳 Stripeテストモード:

1. 無料プランの制限確認
□ 投稿制限が正しく動作
□ 制限到達時の表示が適切
□ アップグレード誘導が表示

2. 有料プランアップグレード
□ 決済画面が正常に表示
□ テストカード決済が成功
□ プラン変更が即座に反映

テストカード番号: 4242424242424242
有効期限: 12/34, CVC: 123
```

### ✅ エラーハンドリングテスト（15分）

```
🚨 エラーケーステスト:

1. 無効なデータ入力
□ 空欄必須項目でエラーメッセージ表示
□ 不正な日時でエラーハンドリング
□ 大きすぎるファイルで制限メッセージ

2. ネットワークエラー想定
□ オフライン時の動作確認
□ 再接続時の復旧確認

3. 権限エラー
□ 他ユーザーのデータへのアクセス拒否
□ 未認証時のリダイレクト確認
```

---

## 📝 **ドキュメント更新（45分）**

### ✅ FAQ更新

```
📋 先週のサポート問い合わせから:

よくある質問の追加:
□ 新しい質問: _________________
□ 回答作成: ___________________
□ FAQ文書に追加完了

🔗 更新場所: tools/docs/USER_FAQ.md
```

### ✅ 不具合・改善記録

```
📊 先週の記録:

発生した問題:
□ 問題: _______________________
□ 原因: _______________________  
□ 対応策: _____________________
□ 再発防止策: _________________

改善アイデア:
□ ユーザーからの要望: ___________
□ 実装優先度: _______________
□ 実装予定: _________________
```

### ✅ パフォーマンス記録更新

```
📈 記録ファイル: tools/docs/performance-log.md

追記内容:
□ 週次指標サマリー
□ 改善点の記録
□ 来週の目標設定
```

---

## 🔧 **システム最適化（30分）**

### ✅ ログ確認・クリーンアップ

```
🗂️ Firebase Console > Functions > ログ

確認項目:
□ 過去7日のエラーログをレビュー
□ 繰り返し発生するエラーを特定
□ 不要なログ出力を削減

クリーンアップ:
□ 古いログの削除設定確認
□ ログ保存期間の最適化
```

### ✅ データベース最適化

```
🗄️ Firestore Database確認:

パフォーマンス:
□ インデックスの使用状況確認
□ クエリ実行時間チェック
□ 無駄なデータ取得の最適化

ストレージ:
□ 不要なドキュメントの削除
□ 画像ファイルサイズの確認
□ バックアップサイズの監視
```

---

## 📱 **実行手順（初心者向け）**

### 🕐 **推奨実行時間**: 日曜日 10:00-12:00

1. **準備（5分）**
   ```bash
   # 作業用ディレクトリに移動
   cd /path/to/Omni_insta
   
   # 健康チェックスクリプト実行
   ./tools/scripts/daily-health-check.sh
   ```

2. **ブラウザでタブを開く**
   - Firebase Console
   - あなたのアプリ
   - Stripe Dashboard（決済確認用）

3. **チェックリストに従って実行**
   - 各項目を確認してチェック
   - 問題があれば BEGINNER_OPERATIONS_GUIDE.md を参照

4. **記録の保存**
   - 数値を記録
   - 問題点をメモ
   - 来週の改善点を記載

---

## 🚨 **アラート条件**

以下の場合は即座に対応が必要:

```yaml
緊急:
  - エラー率が5%を超えた
  - サイトにアクセスできない
  - 決済処理が失敗し続ける

警告:
  - コストが予算の150%を超えた
  - 新規ユーザー登録が0人/週
  - 既存ユーザーのアクティビティが50%減少

監視継続:
  - エラー率が1-5%
  - ページ読み込み時間が3秒以上
  - ユーザー離脱率が70%以上
```

---

## ✅ **完了チェック**

週次メンテナンス完了後の確認:

```
□ すべてのテストが正常に完了
□ パフォーマンス指標が目標範囲内
□ エラー率が許容範囲内
□ ドキュメントが最新状態に更新
□ 来週の改善点が明確になった
□ 緊急対応が必要な問題がない
```

**記録ファイル**: `weekly-maintenance-log-YYYY-MM-DD.md` として保存

---

この週次チェックにより、システムの安定性を維持し、問題の早期発見・対応が可能になります！ 🎯